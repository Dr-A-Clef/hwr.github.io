<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="renderer" content="webkit|ie-comp|ie-stand"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no"><title>VPS的使用方式——服务篇 - BUG研发中心</title><meta name="keywords" content=""><meta name="description" content="Warning: inexperienced programmer inside!"><meta name="author" content="Dr. A. Clef"><link rel="alternate" type="application/atom+xml" href="/atom.xml"><link rel="Shortcut Icon" href="/favicon.ico" type="image/x-icon"><link href="/css/style.css" rel="stylesheet" type="text/css"><link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"><script type="text/javascript">"jQuery"in window||(window._jqQ=[],window.jQuery=window.$=function(){_jqQ.push(arguments)});</script><script id="jquery-src" src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" async onload="_jqQ.forEach(function(n){$.apply($,n)}),delete window._jqQ"></script><script src="/js/script.js" type="text/javascript" async></script><script type="text/javascript">var CONFIG={disqus:{api_key:"1PwNiUJfZNlIZGUH0d0ZfKyOBXhdTclO1F9BJqRJDjcrJ5JVGe45C7YAQO0L5lFc",forum:"unnamed42-github"}};</script><script type="text/javascript">!function(){var t=document,e=t.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://unnamed42-github.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}();</script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script></head><body class="post"><nav id="header"><div class="container clearfix"><div class="logo" style="width:auto"><a href="/" title="BUG研发中心" rel="home" style="text-decoration:none"><span class="brand-logo">BUG研发中心</span></a></div><div id="global-nav"><div class="gnli"><a class="gna fa fa-home" href="/" title="BUG研发中心"><span class="gn-item">主页</span></a></div><div id="dropdown" class="gnli current"><a class="gna fa fa-bars" href="#"><span class="gn-item">导航</span></a><table id="dropdown-menu"><tbody><tr class="trline"><td class="tdleft">分类</td><td class="tdright tab-ul tab-categories"><a href="/categories/学习/">学习</a> <a href="/categories/杂项/">杂项</a> <a href="/categories/生活娱乐/">生活娱乐</a> <a href="/categories/编程/">编程</a></td></tr><tr><td class="tdleft">标签</td><td class="tdright tab-ul tab-tags"><a href="/tags/情感叙事/" style="font-size:12px">情感叙事</a> <a href="/tags/Hexo/" style="font-size:12px">Hexo</a> <a href="/tags/Markdown/" style="font-size:12px">Markdown</a> <a href="/tags/Leetcode/" style="font-size:12px">Leetcode</a> <a href="/tags/算法/" style="font-size:12px">算法</a> <a href="/tags/笑话/" style="font-size:12px">笑话</a> <a href="/tags/配置/" style="font-size:12px">配置</a> <a href="/tags/MathJax/" style="font-size:12px">MathJax</a> <a href="/tags/插件/" style="font-size:12px">插件</a> <a href="/tags/黑暗之魂3/" style="font-size:12px">黑暗之魂3</a> <a href="/tags/VPS/" style="font-size:12px">VPS</a> <a href="/tags/jQuery/" style="font-size:12px">jQuery</a> <a href="/tags/测试/" style="font-size:12px">测试</a> <a href="/tags/DnD/" style="font-size:12px">DnD</a> <a href="/tags/GitHub/" style="font-size:12px">GitHub</a></td></tr></tbody></table></div><div class="gnli"><a class="gna fa fa-archive" href="/archives/index.html"><span class="gn-item">归档</span></a></div><div class="gnli"><a class="gna fa fa-user" href="/about/index.html"><span class="gn-item">关于</span></a></div><div class="gnli"><a class="gna fa fa-rss" href="/atom.xml"><span class="gn-item">订阅</span></a></div></div><form id="search-form" action="/search.html"><input name="keywords" id="search-input" placeholder="输入关键词"> <button type="submit" id="search-submit"><span class="fa fa-search"></span></button></form></div></nav><main id="content"><div class="container clearfix"><div id="primary" class="has-toc"><nav class="breadcrumb-navigation"><a rel="bookmark" href="/">主页</a> <span class="breadcrumb-arrow fa fa-angle-right"></span> <a href="/categories/学习/" title="学习" rel="category tag">学习</a> <span class="breadcrumb-arrow fa fa-angle-right"></span> VPS的使用方式——服务篇</nav><article class="single-post"><header class="post-header"><h1 class="post-title"><a href="/2018-02-28-vps-services.html" title="VPS的使用方式——服务篇">VPS的使用方式——服务篇</a></h1></header><div class="post-meta"><ul class="inline-ul"><li class="inline-li"><span>发布日期</span> <time>2018-02-28</time></li><li class="inline-li"><span class="post-span">·</span></li><li class="inline-li"><span>修改日期</span> <time>2018-06-22</time></li><li class="inline-li"><span class="post-span">·</span></li><li class="inline-li"><a href="/categories/学习/" title="学习" rel="category tag">学习</a></li><li class="inline-li"><span class="post-span">·</span></li><li class="inline-li"><span id="busuanzi_value_page_pv"></span> 次点击</li></ul></div><div class="post-body clearfix"><div class="post-content"><p>作为一名有着Google刚需的编程界人士，应该有随时随地都能访问Google等404服务的手段。除了给自己打开一扇世界之窗之外，VPS还有其他各种各样的打开方式。</p><p>如果你使用了<code>iptables</code>等防火墙，记得配置完之后开放对应的端口。</p><p>UPDATED 2018/6/22: 修改SS配置样例</p><a id="more"></a><h2 id="科学上网">科学上网</h2><p>相信大多数人买个VPS的目的就是为了科学上网。Debian 9默认源里就有<code>shadowsocks-libev</code>，不过我还是推荐从<code>stretch-backports</code>里安装最新版。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">apt -t stretch-backports install shadowsocks-libev</span><br><span class="line"><span class="comment"># 利用systemd开启shadowsocks</span></span><br><span class="line">systemctl <span class="built_in">enable</span> shadowsocks-libev-server@config.service &amp;&amp; systemctl start shadowsocks-libev-server@config.service</span><br></pre></td></tr></table></figure><p>之后创建<code>/etc/shadowsocks-libev/config.json</code>：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"server"</span>: <span class="string">"0.0.0.0"</span>,</span><br><span class="line">    <span class="attr">"server_port"</span>: &lt;ss-port-number&gt;,</span><br><span class="line">    <span class="attr">"password"</span>: <span class="string">"&lt;ss-password&gt;"</span>,</span><br><span class="line">    <span class="attr">"timeout"</span>: <span class="number">60</span>,</span><br><span class="line">    <span class="attr">"method"</span>: <span class="string">"aes-256-cfb"</span>,</span><br><span class="line">    <span class="attr">"fast_open"</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">"workers"</span>: <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>如果你需要IPv4和IPv6双栈的SS，那么针对<code>shadowsocks-libev</code>来说<code>server</code>得设置成<code>[&quot;[::0]&quot;,&quot;0.0.0.0&quot;]</code>。网上其他文章里说设置成<code>&quot;[::0]&quot;</code>就行的，那是针对其他SS服务器端，在<code>shadowsocks-libev</code>就得这么设置。</p><p><code>server_port</code>是给SS服务器端分配的端口号，记得选个不那么常用的（被各大教程使用的8080端口由于使用人数太多导致极其容易被监测）。还有些人喜欢占用https的443端口假装自己是在浏览网页，其实这种做法……破绽很大，因为能够在443上面发现明显不是https协议的通讯。要想真正的假装在上http/https，还得用SSR的混淆功能，或者是<code>simple-obfs</code>插件。</p><p>在其他地方教程的配置文件中，可能会有<code>local_port</code>和<code>local_address</code>这两个对SS服务器端完全无用的条目，不建议填写。在<code>shadowsocks-libev</code>更新3.2.0之后，我的服务器端如果有这两个条目会直接导致服务器端启动报错。</p><p><code>fast_open</code>建议关闭，开启的话会增大你被发现的机率<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>。</p><p><code>method</code>指定一个加密算法，最简单、计算速度最快的是<code>rc4-md5</code>但是容易被查出来（RC4和MD5算法都已经被攻破了）；兼容性好的是<code>aes-256-cfb</code>；新潮的就使用<code>chacha20</code>系列（计算量比AES系列小，因此对移动端有加成），但是可能部分SS客户端不支持这系列算法。在这里要强调一点：SS的加密算法设计出来并不是为了保证数据安全，而是为了加密流量增加方校长他们的监测难度。加密算法在网络速度中占不了太大比重，反倒是服务器带宽最重要。</p><p>iOS的SS客户端我使用<a href="https://itunes.apple.com/us/app/firstwingy/id1316416848?mt=8" target="_blank" rel="noopener">FirstWingy</a>（不支持SSR），Wingy国区弄不到，小火箭又要钱……</p><p>如果你担心自己的SS被查出来，那么可以去使用SSR开启混淆；如果你觉得你的SS速度太慢，可以外面套一层<a href="https://github.com/xtaci/kcptun" target="_blank" rel="noopener">kcptun</a>加速（kcptun是通过多发包消耗流量来换取速度，慎用）。</p><p>如果你想给SS配置多个用户的话，那么删掉<code>server_port</code>和<code>password</code>，改成如下内容：</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    ...,</span><br><span class="line">    "port_password": &#123;</span><br><span class="line">        "&lt;port1&gt;": "&lt;password1&gt;",</span><br><span class="line">        "&lt;port2&gt;": "&lt;password2&gt;",</span><br><span class="line">        ...</span><br><span class="line">    &#125;,</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>但是<code>shadowsocks-libev</code>主程序<code>ss-server</code>不支持<code>port_password</code>选项，要么更换成<code>ss-manager</code>，要么<code>ss-server</code>多开。下面是我用的systemd service unit文件（文件名为<code>ss-manager@.service</code>）：</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[Unit]</span></span><br><span class="line"><span class="attr">Description</span>=Shadowsocks manager server</span><br><span class="line"><span class="attr">After</span>=network.target</span><br><span class="line"></span><br><span class="line"><span class="section">[Service]</span></span><br><span class="line"><span class="attr">Type</span>=simple</span><br><span class="line"><span class="attr">ExecStart</span>=/usr/bin/ss-manager --manager-address /var/run/shadowsocks-manager.sock -c /etc/shadowsocks-libev/%i.json</span><br><span class="line"></span><br><span class="line"><span class="section">[Install]</span></span><br><span class="line"><span class="attr">WantedBy</span>=multi-user.target</span><br></pre></td></tr></table></figure><p>不过据说SS给多人使用会增加被发现的机率。</p><h2 id="aria2离线下载">aria2离线下载</h2><p>百度云的离线下载容易被查，离线完了下载速度还有限制，超烦的。都有了自己的服务器为什么不自己弄一个离线下载呢？</p><p><a href="https://aria2.github.io/" target="_blank" rel="noopener">aria2</a>是一个轻量级的下载器，还支持多线程下载、BT/磁力下载，还提供了JSON/XML的远程控制方式，超强。</p><p>首先来一发<code>apt install aria2</code>安装好。之后创建文件<code>/etc/aria2/aria2.conf</code>作为aria2的配置：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 下载目的地，自己选个路径吧</span></span><br><span class="line">dir=/var/www/files</span><br><span class="line"><span class="comment"># 开启断点续传</span></span><br><span class="line"><span class="built_in">continue</span>=<span class="literal">true</span></span><br><span class="line"><span class="comment"># 保存/读取未完成任务，需要创建一个空文件/etc/aria2/aria2.session</span></span><br><span class="line">input-file=/etc/aria2/aria2.session</span><br><span class="line">save-session=/etc/aria2/aria2.session</span><br><span class="line"><span class="comment"># 日志路径，需要创建空文件/var/log/aria2.log</span></span><br><span class="line"><span class="built_in">log</span>=/var/<span class="built_in">log</span>/aria2.log</span><br><span class="line"><span class="comment"># 日志等级</span></span><br><span class="line"><span class="built_in">log</span>-level=warn</span><br><span class="line"></span><br><span class="line"><span class="comment"># 最大下载线程</span></span><br><span class="line">max-concurrent-downloads=10</span><br><span class="line">max-connection-per-server=5</span><br><span class="line"><span class="comment"># 文件分块下载最小大小</span></span><br><span class="line">min-split-size=10M</span><br><span class="line"></span><br><span class="line"><span class="comment"># 开启RPC</span></span><br><span class="line"><span class="built_in">enable</span>-rpc=<span class="literal">true</span></span><br><span class="line"><span class="comment"># 为了使用Web端控制台，必须开启这两项</span></span><br><span class="line">rpc-allow-origin-all=<span class="literal">true</span></span><br><span class="line">rpc-listen-all=<span class="literal">true</span></span><br><span class="line"><span class="comment"># RPC端口，默认6800</span></span><br><span class="line">rpc-listen-port=6800</span><br><span class="line"><span class="comment"># RPC控制的密码，最好是开启</span></span><br><span class="line">rpc-secret=PyaM9DBv</span><br><span class="line"><span class="comment"># 使用SSL加密，可选</span></span><br><span class="line">rpc-secure=<span class="literal">true</span></span><br><span class="line">rpc-certificate=&lt;certificate-file&gt;</span><br><span class="line">rpc-private-key=&lt;private-key-file&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 磁力下载到种子之后暂停，而不是自动下载全部文件</span></span><br><span class="line">pause-metadata=<span class="literal">true</span></span><br><span class="line"><span class="comment"># 保存DHT的路径，需要创建空文件/etc/aria2/dht&#123;,6&#125;.dat</span></span><br><span class="line">dht-file-path=/etc/aria2/dht.dat</span><br><span class="line">dht-file-path6=/etc/aria2/dht6.dat</span><br><span class="line"><span class="comment"># 伪装为Transmission客户端</span></span><br><span class="line">peer-id-prefix=-TR2770-</span><br><span class="line">user-agent=Transmission/2.77</span><br><span class="line"><span class="comment"># BT断点续传需要，可以开启</span></span><br><span class="line">bt-seed-unverified=<span class="literal">true</span></span><br><span class="line"><span class="comment"># 保存磁力下载到的种子文件</span></span><br><span class="line">bt-save-metadata=<span class="literal">true</span></span><br></pre></td></tr></table></figure><p>之后写一个<code>aria2c.service</code>来配置aria2后端，可以放在<code>/etc/systemd/system/</code>或者<code>/lib/systemd/system/</code>里：</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[Unit]</span></span><br><span class="line"><span class="attr">Description</span>=Aria2 download manager</span><br><span class="line"><span class="attr">After</span>=network.target</span><br><span class="line"></span><br><span class="line"><span class="section">[Service]</span></span><br><span class="line"><span class="attr">Type</span>=simple</span><br><span class="line"><span class="attr">ExecStart</span>=/usr/bin/aria2c --console-log-level=warn --enable-rpc --rpc-listen-all --conf-path=/etc/aria2/aria2.conf</span><br><span class="line"></span><br><span class="line"><span class="section">[Install]</span></span><br><span class="line"><span class="attr">WantedBy</span>=multi-user.target</span><br></pre></td></tr></table></figure><p>之后<code>systemctl daemon-reload &amp;&amp; systemctl enable aria2c &amp;&amp; systemctl start aria2c</code>就行了。</p><p>如果你需要BT作种，得开放对应的端口。在VPS上其实不推荐使用BT下载，因为盗版大多数是BT，VPS服务商为了避免版权纠纷在这方面查得比较严，稍有不慎你的VPS就可能会被封掉。</p><p>配置好aria2后端之后推荐使用一个WebUI配套。我个人推荐使用<a href="https://github.com/mayswind/AriaNg" target="_blank" rel="noopener">AriaNG</a>，还有很多其他的可以用。你可以在自己的VPS上放一个WebUI，也可以用别人做好的。WebUI在哪里都无所谓，毕竟是远程管理不用和aria2后端放在一起。以下是比较有名的WebUI：</p><ul><li>AriaNG - <a href="https://github.com/mayswind/AriaNg" target="_blank" rel="noopener">source</a> - <a href="http://ariang.mayswind.net/latest/" target="_blank" rel="noopener">WebUI</a></li><li>webui-aria2 - <a href="https://github.com/ziahamza/webui-aria2" target="_blank" rel="noopener">source</a> - <a href="https://ziahamza.github.io/webui-aria2/" target="_blank" rel="noopener">WebUI</a></li><li>yaaw - <a href="https://github.com/binux/yaaw" target="_blank" rel="noopener">source</a> - <a href="http://binux.github.io/yaaw/demo/" target="_blank" rel="noopener">WebUI</a></li></ul><h2 id="kms服务器">KMS服务器</h2><p>KMS是用于激活微软批量授权产品的技术，网上很多Windows/Office授权破解其实是自己弄了个KMS服务器，然后每180天上这里来刷新一下授权状态。网上流传很多KMS破解工具，但是用起来实在不放心，带毒没带毒你也说不好，不如自己弄一个KMS省心。</p><p>要弄自己的KMS的话你得使用<a href="https://github.com/Wind4/vlmcsd" target="_blank" rel="noopener">vlmcsd</a>，它是一个KMS模拟器，支持许多代协议。从vlmcsd <a href="https://github.com/Wind4/vlmcsd/releases" target="_blank" rel="noopener">Releases</a>下载编译好的二进制（目前最新的版本是<a href="https://github.com/Wind4/vlmcsd/releases/download/svn1111/binaries.tar.gz" target="_blank" rel="noopener">svn1111</a>），再写一个systemd unit，差不多就配置完了。</p><p>KMS服务的端口号是TCP的<code>1688</code>，记得打开。</p><p>压缩包里包含了所有平台所有OS的二进制，我们这个64位Debian 9就选择<code>Linux/intel/glibc/vlmcsd-x64-glibc</code>就行了（注意有个<code>d</code>），解压之后放到<code>/usr/local/bin/</code>。</p><p>创建<code>vlmcsd.service</code>如下：</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[Unit]</span></span><br><span class="line"><span class="attr">Description</span>=KMS Emulator</span><br><span class="line"><span class="attr">After</span>=network.target</span><br><span class="line"></span><br><span class="line"><span class="section">[Service]</span></span><br><span class="line"><span class="attr">Type</span>=simple</span><br><span class="line"><span class="attr">User</span>=nobody</span><br><span class="line"><span class="attr">ExecStart</span>=/usr/local/bin/vlmcsd -D -e</span><br><span class="line"></span><br><span class="line"><span class="section">[Install]</span></span><br><span class="line"><span class="attr">WantedBy</span>=multi-user.target</span><br></pre></td></tr></table></figure><p>（可选）创建<code>vlmcsd.socket</code>如下：</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[Unit]</span></span><br><span class="line"><span class="attr">Description</span>=KMS Emulator socket</span><br><span class="line"></span><br><span class="line"><span class="section">[Socket]</span></span><br><span class="line"><span class="attr">ListenStream</span>=<span class="number">1688</span></span><br><span class="line"><span class="attr">Accept</span>=<span class="literal">yes</span></span><br><span class="line"></span><br><span class="line"><span class="section">[Install]</span></span><br><span class="line"><span class="attr">WantedBy</span>=sockets.target</span><br></pre></td></tr></table></figure><p><code>daemon-reload</code>, <code>enable</code>, <code>start</code>三连，OK。</p><h3 id="kms激活windows">KMS激活Windows</h3><p>开一个管理员权限的cmd，然后：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 设置对应Windows版本的批量授权序列号</span><br><span class="line">slmgr -ipk xxxxx-xxxxx-xxxxx-xxxxx</span><br><span class="line"># 设置KMS服务器地址</span><br><span class="line">slmgr /skms &lt;VPS IP或域名&gt;</span><br><span class="line"># 执行激活</span><br><span class="line">slmgr /ato</span><br></pre></td></tr></table></figure><p>有关序列号，访问<a href="https://technet.microsoft.com/en-us/library/jj612867.aspx" target="_blank" rel="noopener">Appendix A: KMS Client Setup Keys</a>找到自己系统对应的序列号。</p><h3 id="kms激活office">KMS激活Office</h3><p>此方法仅支持VOL版Office，零售版是不支持的。</p><p>开一个管理员权限的cmd，进入你的Office目录（比如Office 2016 64位就需要进入<code>C:\Program Files\Microsoft Office\Office16</code>，如果目录正确的话应该有个<code>OSPP.VBS</code>的文件），然后：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 配置KMS服务器</span><br><span class="line">cscript ospp.vbs /sethst:&lt;VPS IP或域名&gt;</span><br><span class="line"># 开始激活</span><br><span class="line">cscript ospp.vbs /act</span><br><span class="line"># 检查激活状态</span><br><span class="line">cscript ospp.vbs /dstatus</span><br></pre></td></tr></table></figure><p>如果激活状态中出现<code>LICENSE STATUS: —LICENSED—</code>说明成功了。</p><h2 id="私有云盘服务">私有云盘服务</h2><p>神奇的8秒教育视频把你的小姐姐给替换没了，好气啊，怎么办？自己弄一个云盘服务啊！</p><p>出现得早的<a href="https://owncloud.org/" target="_blank" rel="noopener">ownCloud</a>和它的fork <a href="https://nextcloud.com/" target="_blank" rel="noopener">nextCloud</a>都需要LAMP环境，我这种小门小户的小鸡支撑不起。<a href="https://www.seafile.com/home/" target="_blank" rel="noopener">Seafile</a>是Python开发、可以使用SQLite做MySQL的替代，就它了。其实还有其他更加轻量级的私有云方案，比如<a href="https://syncthing.net/" target="_blank" rel="noopener">Syncthing</a>，但它没有好用的iOS客户端，只好忍痛放弃了。</p><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p><a href="https://github.com/shadowsocks/shadowsocks-libev/issues/1552" target="_blank" rel="noopener">tcp fast open可能会导致ss被发现？</a> <a href="#fnref1" class="footnote-backref">↩</a></p></li></ol></section></div></div><div class="license-notice"><span>作者:</span>Dr. A. Clef<br><span>发布日期:</span>2018-02-28<br><span>修改日期:</span>2018-06-22<br><span>发布协议:</span> <a href="https://creativecommons.org/licenses/by-sa/4.0" target="_blank">BY-SA</a></div><nav class="post-tags"><a href="/tags/VPS/" title="VPS" rel="tag" class="fa fa-tag">VPS</a></nav></article></div><ul id="pager"><li class="previous"><a href="/2018-04-02-jquery-async-load.html" title="jquery.min.js的async加载" class="tooltipped tooltipped-n" aria-label="jquery.min.js的async加载"><span class="fa fa-chevron-left"></span> 上一篇文章</a></li><li class="next"><a href="/2018-02-27-vps-configs.html" title="VPS的使用方式——配置篇" class="tooltipped tooltipped-n" aria-label="VPS的使用方式——配置篇">下一篇文章 <span class="fa fa-chevron-right"></span></a></li></ul><section id="comments"><div id="disqus_thread" class="disqus-thread"></div></section><nav id="toc" class="sticky"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#科学上网"><span class="toc-text">科学上网</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#aria2离线下载"><span class="toc-text">aria2离线下载</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#kms服务器"><span class="toc-text">KMS服务器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#kms激活windows"><span class="toc-text">KMS激活Windows</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#kms激活office"><span class="toc-text">KMS激活Office</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#私有云盘服务"><span class="toc-text">私有云盘服务</span></a></li></ol></nav></div></main><footer id="footer"><div class="container"><p><span class="cc-license"><a href="https://creativecommons.org/licenses/by-sa/4.0" target="_blank" title="Creative Commons license by-sa"><span class="cc cc-cc"></span> <span class="cc cc-by"></span> <span class="cc cc-sa"></span></a></span> &nbsp;2015-2018 BUG研发中心.</p><p>Themed by <a href="https://github.com/unnamed42/hexo-theme-kunkka">Kunkka</a> | Powered by <a href="https://hexo.io/">Hexo</a>.</p><div class="sns-icons"><span class="sns-icon fa-stack"><a target="_blank" href="https://github.com/unnamed42"><span class="fa fa-square fa-stack-2x"></span> <span class="fa fa-github fa-stack-1x fa-inverse"></span></a></span> <span class="sns-icon fa-stack"><a target="_blank" href="https://www.zhihu.com/people/huang-wen-rui-74"><span class="fa fa-square fa-stack-2x"></span> <span class="fa fa-stack-1x fa-inverse">知</span></a></span> <span class="sns-icon fa-stack"><a target="_blank" href="http://tieba.baidu.com/home/main/?un=Xelnagaman"><span class="fa fa-square fa-stack-2x"></span> <span class="fa fa-stack-1x fa-inverse">贴</span></a></span></div></div></footer><div id="totop" title="送你上天"><canvas id="totop-canvas" width="48" height="48"></canvas><div id="totop-percent"></div></div></body></html>